<ui:composition
    template="/WEB-INF/facelets/templates/layout.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:define name="content">
       <main role="main" class="container">
      <div class="row">
        <div class="col-md-8 blog-main">
          <div class="blog-post">

                <h:outputText value="#{buscaBean.pregunta.contenido}" style="font-weight: bold"/>
                <hr/>
                <h:outputText value="#{buscaBean.pregunta.descripcion}" style="font-weight: bold"/>
                <hr/>
                <h:outputText value="#{buscaBean.pregunta.fechaCreacion}" style="font-weight: bold"/>
          </div>
        </div>
           </div>    
           </main>
          <h:form>
              <p:dataScroller value = "#{buscaBean.pregunta.respuestas}" var="respuestas" chunkSize="10">
                <f:facet name="header">
                    <br>Respuestas</br>
                </f:facet>
                <h:panelGrid columns ="2" style ="width:100%" columnClasses = "detail">
                    <p:outputPanel>
                        <h:panelGrid columns = "2" cellpadding="10" columnClasses = "detail">
                            <h:outputText value="Respuesta:" />
                            <h:outputText value="#{respuestas.descripcion}" style="font-weight: bold"/>                                                                                    
                            <h:outputText value="Fecha de creacion:" />
                            <h:outputLabel value="#{respuestas.fechaCreacion}" style="font-weight: bold"/>
                        </h:panelGrid>
                        <hr/>
                    </p:outputPanel>
                </h:panelGrid>
            </p:dataScroller>
          </h:form>
           
        <c:choose>
            <c:when test="#{iniciaSesion.activo}">
                 <div class="container">
            <h:form id ="myForm">
                <h1>Agregar respuesta</h1>                
                <div align="center">                    
                    <h3>Ingrese su respuesta:</h3>
                    <br/>
                    <table align="center">
                        <tr>
                            Respuesta:
                        </tr>                            
                        <tr>                                
                            <td><h:inputTextarea value="#{respuestaBean.descripcion}" id="descripcion" rows="4" cols="50" style="font-size: 15pt"/></td>                            
                        </tr>                                                
                    </table>                    
                    <div align="center">
                        <h:commandButton id = "agregar" value="Agregar" action="#{respuestaBean.agregarRespuesta(buscaBean.pregunta)}"/>
                        <h:commandButton id = "regresar" value="Regresar" action="PreguntaIH.xhtml"/>
                    </div>                     
                </div>                                                   
            </h:form> 
        </div>
          </c:when>
          <c:otherwise>
          </c:otherwise>
        </c:choose>
        
           </ui:define>
</ui:composition>